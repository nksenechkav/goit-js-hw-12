{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/js/addMarkup.js","../src/js/onError.js","../src/js/createGallery.js","../src/js/fetchImage.js","../src/js/loader.js","../src/js/onFormSubmit.js","../src/main.js"],"sourcesContent":["export const refs = {\n    form: document.querySelector('.search-form'),\n    formInput: document.querySelector('.form-input'),\n    btn: document.querySelector('.search-button'),\n    galleryList: document.querySelector('.gallery'),\n    container: document.querySelector('.container'),\n    loader: document.querySelector('.loader'),\n  };","export function addMarkup(image) {\n    return `<li class=\"gallery-item\">\n          <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n            <img\n              src=\"${image.webformatURL}\"\n              class=\"gallery-image\"\n              alt=\"${image.tags}\"\n            />\n          </a>\n          <div class=\"modal-text\"> \n              <div class=\"modal-element\"><p>Likes</p><span>${image.likes}</span></div>\n              <div class=\"modal-element\"><p>Views</p><span>${image.views}</span></div>\n              <div class=\"modal-element\"><p>Comments</p><span>${image.comments}</span></div>\n              <div class=\"modal-element\"><p>Downloads</p><span>${image.downloads}</span></div>\n          </div>\n        </li>`;\n  }","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst MESSAGE =\n  'Sorry, there are no images matching your search query. Please try again!';\nexport function onError() {\n  iziToast.error({\n    message: MESSAGE,\n    position: 'topRight',\n  });\n}","import { refs } from './refs';\nimport { addMarkup } from './addMarkup';\nimport { onError } from './onError';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function makeGalleryItem(response) {\n  const result = response.hits.map(addMarkup).join('');\n\n  if (response.hits.length) {\n    refs.galleryList.innerHTML = result;\n    let lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionPosition: 'bottom',\n      captionDelay: 250,\n    });\n    lightbox.refresh();\n  } else {\n    onError();\n  }\n}","export function fetchImg(input) {\n    const API_KEY = '42271393-ceafa19bde7d0a63fb15d5d6f';\n    const BASE_URL = 'https://pixabay.com/api/';\n    const parameters = `q=${input}&image_type=photo&orientation=horizontal&safesearch=true`;\n    const URL = `${BASE_URL}?key=${API_KEY}&${parameters}`;\n    return fetch(URL).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    });\n  }","import { refs } from './refs';\n\nexport function loaderOn() {\n  refs.loader.classList.remove('hidden');\n}\n\nexport function loaderOff() {\n  refs.loader.classList.add('hidden');\n}","import { refs } from './refs';\nimport { makeGalleryItem } from './createGallery';\nimport { onError } from './onError';\nimport { fetchImg } from './fetchImage';\nimport { loaderOn } from './loader';\nimport { loaderOff } from './loader';\n\n// let page = 1;\n\n// let limit = 15;\n\n// const totalPages = Math.ceil(100 / limit);\n\n\n// Btn.addEventListener(\"click\", async () => {\n//     // Check the end of the collection to display an alert\n//     if (page > totalPages) {\n//       return iziToast.error({\n//         position: \"topRight\",\n//         message: \"We're sorry, there are no more posts to load\"\n//       });\n//     }\n  \n//     try {\n//       const posts = await fetchPosts();\n//       renderPosts(posts);\n//       // Increase the group number\n//       page += 1;\n  \n//       // Replace button text after first request\n//       if (page > 1) {\n//         Btn.textContent = \"Fetch more posts\";\n//       }\n//     } catch (error) {\n//       console.log(error);\n//     }\n//   });\n\n\n  export function onFormSubmit(event) {\n    event.preventDefault();\n    loaderOn();\n    refs.galleryList.innerHTML = '';\n    const userSearch = event.currentTarget.elements.input.value.trim();\n  \n    fetchImg(userSearch)\n        .then(makeGalleryItem)\n        .catch(onError)\n        .finally(loaderOff);\n  \n    refs.form.reset();\n  }","import { refs } from './js/refs';\nimport { onFormSubmit } from './js/onFormSubmit';\n\nrefs.form.addEventListener('submit', onFormSubmit);"],"names":["refs","addMarkup","image","MESSAGE","onError","iziToast","makeGalleryItem","response","result","SimpleLightbox","fetchImg","input","API_KEY","BASE_URL","parameters","URL","loaderOn","loaderOff","onFormSubmit","event","userSearch"],"mappings":"6vBAAO,MAAMA,EAAO,CAChB,KAAM,SAAS,cAAc,cAAc,EAC3C,UAAW,SAAS,cAAc,aAAa,EAC/C,IAAK,SAAS,cAAc,gBAAgB,EAC5C,YAAa,SAAS,cAAc,UAAU,EAC9C,UAAW,SAAS,cAAc,YAAY,EAC9C,OAAQ,SAAS,cAAc,SAAS,CACzC,ECPI,SAASC,EAAUC,EAAO,CAC7B,MAAO;AAAA,qBACUA,EAAM,aAAa;AAAA;AAAA,qBAEnBA,EAAM,YAAY;AAAA;AAAA,qBAElBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,6DAI8BA,EAAM,KAAK;AAAA,6DACXA,EAAM,KAAK;AAAA,gEACRA,EAAM,QAAQ;AAAA,iEACbA,EAAM,SAAS;AAAA;AAAA,cAGhF,CCbA,MAAMC,EACJ,2EACK,SAASC,GAAU,CACxBC,EAAS,MAAM,CACb,QAASF,EACT,SAAU,UACd,CAAG,CACH,CCJO,SAASG,EAAgBC,EAAU,CACxC,MAAMC,EAASD,EAAS,KAAK,IAAIN,CAAS,EAAE,KAAK,EAAE,EAE/CM,EAAS,KAAK,QAChBP,EAAK,YAAY,UAAYQ,EACd,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,gBAAiB,SACjB,aAAc,GACpB,CAAK,EACQ,QAAO,GAEhBL,GAEJ,CCpBO,SAASM,EAASC,EAAO,CAC5B,MAAMC,EAAU,qCACVC,EAAW,2BACXC,EAAa,KAAKH,CAAK,2DACvBI,EAAM,GAAGF,CAAQ,QAAQD,CAAO,IAAIE,CAAU,GACpD,OAAO,MAAMC,CAAG,EAAE,KAAKR,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,CACL,CCTO,SAASS,GAAW,CACzBhB,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,CAEO,SAASiB,GAAY,CAC1BjB,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC,CC+BS,SAASkB,EAAaC,EAAO,CAClCA,EAAM,eAAc,EACpBH,IACAhB,EAAK,YAAY,UAAY,GAC7B,MAAMoB,EAAaD,EAAM,cAAc,SAAS,MAAM,MAAM,OAE5DT,EAASU,CAAU,EACd,KAAKd,CAAe,EACpB,MAAMF,CAAO,EACb,QAAQa,CAAS,EAEtBjB,EAAK,KAAK,OACd,CChDAA,EAAK,KAAK,iBAAiB,SAAUkB,CAAY"}